<script>
  
function getUrlParams() {
  const params = {};
  const query = new URLSearchParams(window.location.search);
  query.forEach((value, key) => {
    params[key] = isNaN(Number(value)) ? value : Number(value);
  });
  return params;
}

document.addEventListener('DOMContentLoaded', function () {
  const params = getUrlParams();

  const total = params.total || 0;
  const bouquetName = params.name || '–ë—É–∫–µ—Ç';
  const fee = 49.05;
  const finalTotal = total + fee;

document.getElementById('total-price').textContent =
  finalTotal.toFixed(2) + ' UAH';


  document.getElementById('bouquet-name').textContent =
    bouquetName;

document.getElementById('payment-details').innerHTML =
  `–°—É–º–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: ${total.toFixed(2)} UAH<br>
   –ö–æ–º—ñ—Å—ñ—è –∑–∞ –æ–±—Ä–æ–±–∫—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: ${fee.toFixed(2)} UAH<br>
   <strong>–î–æ —Å–ø–ª–∞—Ç–∏: ${finalTotal.toFixed(2)} UAH</strong>`;

});
</script>

<div
  id="payment-success"
  style="
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #e8f5e9;
    color: #2e7d32;
    padding: 14px 24px;
    border-radius: 8px;
    font-family: Inter;
    font-size: 16px;
    display: none;
    z-index: 9999;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  "
>
  –û–ø–ª–∞—Ç–∞ –ø—Ä–æ–π—à–ª–∞ —É—Å–ø—ñ—à–Ω–æ üíñ –û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
</div>

<!-- –í–∞—à HTML –∑ –Ω–µ–≤–µ–ª–∏–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏ -->
<div style="width: 1440px; height: 809px; position: relative; background: white; overflow: hidden">
  <div style="width: 1440.01px; height: 0px; left: 0px; top: 76px; position: absolute; outline: 0.50px black solid; outline-offset: -0.25px"></div>
  <div style="width: 1440px; height: 1167px; left: 0px; top: 0px; position: absolute; background: white"></div>
  <div style="width: 1174px; height: 671px; left: 135px; top: 62px; position: absolute; background: white; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border: 2px #CCCCCC solid"></div>
  
  <!-- –ù–∞–∑–≤–∞ –±—É–∫–µ—Ç–∞ (—Ç–µ–ø–µ—Ä –¥–∏–Ω–∞–º—ñ—á–Ω–∞) -->
  <div data-property-1="Default" style="width: 115px; height: 29px; left: 1024px; top: 150px; position: absolute">
    <div id="bouquet-name" style="left: 0px; top: 0px; position: absolute; color: white; font-size: 24px; font-family: Inter; font-weight: 200; word-wrap: break-word">–¢—é–ª—å–ø–∞–Ω–∏</div>
  </div>
  
  <div style="width: 412px; left: 232px; top: 329px; position: absolute">
    <span style="color: black; font-size: 36px;">–î–æ —Å–ø–ª–∞—Ç–∏:<br/></span>
    <span id="total-price" style="color: black; font-size: 36px; font-family: Akatab; font-weight: 700;">
      2 774.05 UAH
    </span>
  </div>

  <div id="payment-details" style="width: 412px; left: 232px; top: 424px; position: absolute; color: rgba(0, 0, 0, 0.44); font-size: 16px;">
    –°—É–º–∞ –ø–ª–∞—Ç–µ–∂—É 2725 UAH<br/>
    –ö–æ–º—ñ—Å—ñ—è –∑–∞ –æ–±—Ä–æ–±–∫—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: 49 UAH
  </div>

  <div style="width: 373px; height: 214px; left: 895px; top: 204px; position: absolute; background: white; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border-radius: 5px; border: 1px black solid"></div>

<input
  id="card-number"
  type="text"
  placeholder="XXXX   XXXX   XXXX   XXXX"
  style="
    width: 238px;
    height: 36px;
    left: 910px;
    top: 256px;
    position: absolute;
    border-radius: 5px;
    border: 0.5px black solid;
    padding: 0 10px;
  "
/>
<input
  id="card-date"
  type="text"
  placeholder="MM/PP"
  style="
    width: 92px;
    height: 36px;
    left: 1162px;
    top: 256px;
    position: absolute;
    border-radius: 5px;
    border: 0.5px black solid;
    padding: 0 8px;
  "
/>

  <div style="left: 1162px; top: 236px; position: absolute; color: black; font-size: 11px; font-family: Inter; font-weight: 500; word-wrap: break-word">MM/PP</div>
  <div style="left: 1163px; top: 323px; position: absolute; color: black; font-size: 11px; font-family: Inter; font-weight: 500; word-wrap: break-word">CVV2</div>
<input
  id="card-cvv"
  type="password"
  placeholder="XXX"
  style="
    width: 92px;
    height: 36px;
    left: 1162px;
    top: 341px;
    position: absolute;
    border-radius: 5px;
    border: 0.5px black solid;
    padding: 0 8px;
  "
/>

  <div style="left: 914px; top: 236px; position: absolute; color: black; font-size: 11px; font-family: Inter; font-weight: 500; word-wrap: break-word">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç–∫–∏</div>
  <div style="left: 914px; top: 323px; position: absolute; color: black; font-size: 11px; font-family: Inter; font-weight: 500; word-wrap: break-word">–ü–Ü–ë –≤–ª–∞—Å–Ω–∏–∫–∞</div>
  <div style="left: 897px; top: 451px; position: absolute; color: black; font-size: 11px; font-family: Inter; font-weight: 500; word-wrap: break-word">Email</div>
  <div style="left: 1095px; top: 451px; position: absolute; color: black; font-size: 11px; font-family: Inter; font-weight: 500; word-wrap: break-word">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É</div>

<input
  id="email"
  type="email"
  placeholder="email@example.com"
  style="
    width: 174px;
    height: 36px;
    left: 896px;
    top: 471px;
    position: absolute;
    border-radius: 5px;
    border: 0.5px black solid;
    padding: 0 10px;
  "
/>


<input
  id="phone"
  type="tel"
  placeholder="+380..."
  style="
    width: 174px;
    height: 36px;
    left: 1094px;
    top: 471px;
    position: absolute;
    border-radius: 5px;
    border: 0.5px black solid;
    padding: 0 10px;
  "
/>

<input
  id="card-name"
  type="text"
  placeholder="–ü–Ü–ë –≤–ª–∞—Å–Ω–∏–∫–∞ –∫–∞—Ä—Ç–∏"
  style="
    width: 238px;
    height: 36px;
    left: 910px;
    top: 341px;
    position: absolute;
    border-radius: 5px;
    border: 0.5px black solid;
    padding: 0 10px;
  "
/>
<div
  id="payment-message"
  style="
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 14px 24px;
    border-radius: 8px;
    font-family: Inter;
    font-size: 16px;
    display: none;
    z-index: 9999;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  "
></div>

<div
  onclick="submitPayment()"
    id="pay-btn"
  style="
    width: 373px;
    height: 36px;
    left: 895px;
    top: 550px;
    position: absolute;
    background: white;
    border-radius: 5px;
    border: 2px #E13535 solid;
    cursor: pointer;
    transition: background 0.3s ease;
  "
  onmouseover="
    this.style.background='#E13535';
    this.nextElementSibling.style.color='white';
  "
  onmouseout="
    this.style.background='white';
    this.nextElementSibling.style.color='#E13535';
  "
></div>

<div
  style="
    left: 1030px;
    top: 560px;
    position: absolute;
    color: #E13535;
    font-size: 16px;
    font-family: Inter;
    font-weight: 500;
    transition: color 0.3s ease;
    pointer-events: none;
  "
>
  –û–ø–ª–∞—Ç–∏—Ç–∏
</div>


  <img style="width: 722px; height: 672px; left: 136px; top: 63px; position: absolute" src="images/order6.png" />
</div>

<script>
function submitPayment() {
  const card = document.getElementById('card-number')?.value;
  const date = document.getElementById('card-date')?.value;
  const cvv = document.getElementById('card-cvv')?.value;
  const name = document.getElementById('card-name')?.value;
  const email = document.getElementById('email')?.value;
  const phone = document.getElementById('phone')?.value;

  if (!card || !date || !cvv || !name || !email || !phone) {
    alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è üíó');
    return;
  }

  alert('–û–ø–ª–∞—Ç–∞ —É—Å–ø—ñ—à–Ω–∞ ‚ú® (–¥–µ–º–æ)');
}
</script>
<script>
function submitPayment() {
  const inputs = document.querySelectorAll('input');
  const message = document.getElementById('payment-message');

  let allFilled = true;

  inputs.forEach(input => {
    if (input.value.trim() === '') {
      allFilled = false;
    }
  });

  // ‚ùå —è–∫—â–æ –Ω–µ –≤—Å—ñ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ
  if (!allFilled) {
    message.textContent = '–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è';
    message.style.background = '#fdecea';
    message.style.color = '#b71c1c';
    message.style.display = 'block';
    return;
  }

  // ‚úÖ —è–∫—â–æ –≤—Å–µ –æ–∫
  message.textContent = '–û–ø–ª–∞—Ç–∞ –ø—Ä–æ–π—à–ª–∞ —É—Å–ø—ñ—à–Ω–æ üíñ –û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è';
  message.style.background = '#e8f5e9';
  message.style.color = '#2e7d32';
  message.style.display = 'block';

  // –æ—á–∏—â–∞—î–º–æ –ø–æ–ª—è
  inputs.forEach(input => input.value = '');

  // –±–ª–æ–∫—É—î–º–æ –∫–Ω–æ–ø–∫—É
  const btn = document.getElementById('pay-btn');
  btn.style.pointerEvents = 'none';
  btn.style.opacity = '0.6';
}
</script>

